{"ast":null,"code":"import React,{useEffect}from'react';import'./css/kakaomap.css';import{jsx as _jsx}from\"react/jsx-runtime\";export default function KakaoMap(_ref){let{stores}=_ref;console.log(\"üì¶ Ï†ÑÎã¨Îêú stores:\",stores);stores.forEach(store=>console.log(\"üìç Ï£ºÏÜå ÌôïÏù∏:\",store.real_address));useEffect(()=>{const loadKakaoMapScript=()=>{if(window.kakao&&window.kakao.maps){console.log(\"‚úÖ Ïù¥ÎØ∏ kakao Í∞ùÏ≤¥ ÏûàÏùå\");window.kakao.maps.load(initMap);return;}const script=document.createElement(\"script\");script.src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=cdcb36f7c5dbf63f04c19c92959118ca&autoload=false&libraries=services\";script.async=true;script.onload=()=>{console.log(\"‚úÖ Kakao SDK Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎî© ÏôÑÎ£å\");window.kakao.maps.load(()=>{console.log(\"‚úÖ kakao.maps.load ÏôÑÎ£åÎê®\",window.kakao);initMap();});};script.onerror=()=>{console.error(\"‚ùå Kakao SDK Î°úÎî© Ïã§Ìå® - ÌÇ§ ÎòêÎäî ÎèÑÎ©îÏù∏ ÌôïÏù∏ ÌïÑÏöî\");};document.head.appendChild(script);};const initMap=()=>{if(!stores||stores.length===0)return;const filteredStores=stores.filter(store=>store.real_address&&store.real_address.trim().length>5);console.log(\"üó∫Ô∏è ÌïÑÌÑ∞Îêú stores (Ï£ºÏÜå ÏûàÎäî Í≤ÉÎßå):\",filteredStores);if(filteredStores.length===0)return;const container=document.getElementById(\"map\");const options={center:new window.kakao.maps.LatLng(37.5665,126.9780),// Ï¥àÍ∏∞ Ï§ëÏã¨ (ÏÑúÏö∏ ÏãúÏ≤≠)\nlevel:5};const map=new window.kakao.maps.Map(container,options);const geocoder=new window.kakao.maps.services.Geocoder();const bounds=new window.kakao.maps.LatLngBounds();// ‚úÖ Î™®Îì† ÎßàÏª§ Î≤îÏúÑ\nlet markerCount=0;filteredStores.forEach(store=>{geocoder.addressSearch(store.real_address,function(result,status){console.log(`üìç Ï£ºÏÜå Í≤ÄÏÉâ Í≤∞Í≥º [${store.name}]`,store.real_address,status,result);if(status===window.kakao.maps.services.Status.OK){const coords=new window.kakao.maps.LatLng(result[0].y,result[0].x);bounds.extend(coords);// ‚úÖ ÎßàÏª§ Î≤îÏúÑ Ï∂îÍ∞Ä\nconst marker=new window.kakao.maps.Marker({map:map,position:coords});const info=new window.kakao.maps.InfoWindow({content:`\n                  <div style=\"\n                    padding:10px;\n                    font-size:14px;\n                    line-height:1.6;\n                    max-width:200px;\n                    word-break:break-word;\n                  \">\n                    <div style=\"font-weight:bold; font-size:15px;\">üìç ${store.name}</div>\n                    <div style=\"margin-top:4px; color:#444;\">\n                      ‚≠ê ${store.rating||\"0.0\"}Ï†ê ¬∑ ${store.review||\"Î¶¨Î∑∞ ÏóÜÏùå\"}\n                    </div>\n                    <a href=\"${store.url}\" target=\"_blank\"\n                       style=\"display:inline-block; margin-top:6px; color:#2b6cb0; font-weight:bold; text-decoration:none;\"\n                       onmouseover=\"this.style.color='#1a4e8a'\"\n                       onmouseout=\"this.style.color='#2b6cb0'\">\n                      üîó ÏûêÏÑ∏Ìûà Î≥¥Í∏∞\n                    </a>\n                  </div>\n                `});marker.setMap(map);window.kakao.maps.event.addListener(marker,\"click\",()=>{info.open(map,marker);});markerCount++;// ‚úÖ Î™®Îì† ÎßàÏª§ ÏÉùÏÑ± ÌõÑ ÏßÄÎèÑ Î≤îÏúÑ ÏÑ§Ï†ï\nif(markerCount===filteredStores.length){map.setBounds(bounds);}}});});};loadKakaoMapScript();},[stores]);return/*#__PURE__*/_jsx(\"div\",{id:\"map\",style:{width:\"100%\",height:\"400px\",marginTop:\"20px\"}});}","map":{"version":3,"names":["React","useEffect","jsx","_jsx","KakaoMap","_ref","stores","console","log","forEach","store","real_address","loadKakaoMapScript","window","kakao","maps","load","initMap","script","document","createElement","src","async","onload","onerror","error","head","appendChild","length","filteredStores","filter","trim","container","getElementById","options","center","LatLng","level","map","Map","geocoder","services","Geocoder","bounds","LatLngBounds","markerCount","addressSearch","result","status","name","Status","OK","coords","y","x","extend","marker","Marker","position","info","InfoWindow","content","rating","review","url","setMap","event","addListener","open","setBounds","id","style","width","height","marginTop"],"sources":["D:/workspace/FoodyChat/foodychat_frontend/src/components/KakaoMap.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport './css/kakaomap.css';\r\n\r\nexport default function KakaoMap({ stores }) {\r\n  console.log(\"üì¶ Ï†ÑÎã¨Îêú stores:\", stores);\r\n  stores.forEach(store => console.log(\"üìç Ï£ºÏÜå ÌôïÏù∏:\", store.real_address));\r\n\r\n  useEffect(() => {\r\n    const loadKakaoMapScript = () => {\r\n      if (window.kakao && window.kakao.maps) {\r\n        console.log(\"‚úÖ Ïù¥ÎØ∏ kakao Í∞ùÏ≤¥ ÏûàÏùå\");\r\n        window.kakao.maps.load(initMap);\r\n        return;\r\n      }\r\n\r\n      const script = document.createElement(\"script\");\r\n      script.src =\r\n        \"//dapi.kakao.com/v2/maps/sdk.js?appkey=cdcb36f7c5dbf63f04c19c92959118ca&autoload=false&libraries=services\";\r\n      script.async = true;\r\n\r\n      script.onload = () => {\r\n        console.log(\"‚úÖ Kakao SDK Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎî© ÏôÑÎ£å\");\r\n        window.kakao.maps.load(() => {\r\n          console.log(\"‚úÖ kakao.maps.load ÏôÑÎ£åÎê®\", window.kakao);\r\n          initMap();\r\n        });\r\n      };\r\n\r\n      script.onerror = () => {\r\n        console.error(\"‚ùå Kakao SDK Î°úÎî© Ïã§Ìå® - ÌÇ§ ÎòêÎäî ÎèÑÎ©îÏù∏ ÌôïÏù∏ ÌïÑÏöî\");\r\n      };\r\n\r\n      document.head.appendChild(script);\r\n    };\r\n\r\n    const initMap = () => {\r\n      if (!stores || stores.length === 0) return;\r\n\r\n      const filteredStores = stores.filter(\r\n        (store) => store.real_address && store.real_address.trim().length > 5\r\n      );\r\n\r\n      console.log(\"üó∫Ô∏è ÌïÑÌÑ∞Îêú stores (Ï£ºÏÜå ÏûàÎäî Í≤ÉÎßå):\", filteredStores);\r\n      if (filteredStores.length === 0) return;\r\n\r\n      const container = document.getElementById(\"map\");\r\n      const options = {\r\n        center: new window.kakao.maps.LatLng(37.5665, 126.9780), // Ï¥àÍ∏∞ Ï§ëÏã¨ (ÏÑúÏö∏ ÏãúÏ≤≠)\r\n        level: 5,\r\n      };\r\n      const map = new window.kakao.maps.Map(container, options);\r\n      const geocoder = new window.kakao.maps.services.Geocoder();\r\n\r\n      const bounds = new window.kakao.maps.LatLngBounds(); // ‚úÖ Î™®Îì† ÎßàÏª§ Î≤îÏúÑ\r\n\r\n      let markerCount = 0;\r\n\r\n      filteredStores.forEach((store) => {\r\n        geocoder.addressSearch(store.real_address, function (result, status) {\r\n          console.log(\r\n            `üìç Ï£ºÏÜå Í≤ÄÏÉâ Í≤∞Í≥º [${store.name}]`,\r\n            store.real_address,\r\n            status,\r\n            result\r\n          );\r\n\r\n          if (status === window.kakao.maps.services.Status.OK) {\r\n            const coords = new window.kakao.maps.LatLng(result[0].y, result[0].x);\r\n            bounds.extend(coords); // ‚úÖ ÎßàÏª§ Î≤îÏúÑ Ï∂îÍ∞Ä\r\n\r\n            const marker = new window.kakao.maps.Marker({\r\n              map: map,\r\n              position: coords,\r\n            });\r\n\r\n            const info = new window.kakao.maps.InfoWindow({\r\n                content: `\r\n                  <div style=\"\r\n                    padding:10px;\r\n                    font-size:14px;\r\n                    line-height:1.6;\r\n                    max-width:200px;\r\n                    word-break:break-word;\r\n                  \">\r\n                    <div style=\"font-weight:bold; font-size:15px;\">üìç ${store.name}</div>\r\n                    <div style=\"margin-top:4px; color:#444;\">\r\n                      ‚≠ê ${store.rating || \"0.0\"}Ï†ê ¬∑ ${store.review || \"Î¶¨Î∑∞ ÏóÜÏùå\"}\r\n                    </div>\r\n                    <a href=\"${store.url}\" target=\"_blank\"\r\n                       style=\"display:inline-block; margin-top:6px; color:#2b6cb0; font-weight:bold; text-decoration:none;\"\r\n                       onmouseover=\"this.style.color='#1a4e8a'\"\r\n                       onmouseout=\"this.style.color='#2b6cb0'\">\r\n                      üîó ÏûêÏÑ∏Ìûà Î≥¥Í∏∞\r\n                    </a>\r\n                  </div>\r\n                `,\r\n              });\r\n\r\n            marker.setMap(map);\r\n            window.kakao.maps.event.addListener(marker, \"click\", () => {\r\n              info.open(map, marker);\r\n            });\r\n\r\n            markerCount++;\r\n            // ‚úÖ Î™®Îì† ÎßàÏª§ ÏÉùÏÑ± ÌõÑ ÏßÄÎèÑ Î≤îÏúÑ ÏÑ§Ï†ï\r\n            if (markerCount === filteredStores.length) {\r\n              map.setBounds(bounds);\r\n            }\r\n          }\r\n        });\r\n      });\r\n    };\r\n\r\n    loadKakaoMapScript();\r\n  }, [stores]);\r\n\r\n  return (\r\n    <div\r\n      id=\"map\"\r\n      style={{ width: \"100%\", height: \"400px\", marginTop: \"20px\" }}\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}