{"ast":null,"code":"// src/components/MainPage.jsx\nimport React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import NavBar from'./NavBar';import Carousel from'./Carousel';// ✅ 캐러셀 추가\nimport'./css/main.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainPage(){const[userInfo,setUserInfo]=useState(null);const[menuOpen,setMenuOpen]=useState(false);const[darkMode,setDarkMode]=useState(false);const navigate=useNavigate();useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){setUserInfo(JSON.parse(storedUser));}},[]);useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){setUserInfo(JSON.parse(storedUser));}},[]);useEffect(()=>{document.documentElement.setAttribute('data-theme',darkMode?'dark':'light');},[darkMode]);useEffect(()=>{document.body.style.overflow=menuOpen?'hidden':'';},[menuOpen]);const handleLogout=async()=>{try{await axios.post('http://localhost:8080/users/logout',new URLSearchParams({user_id:userInfo.user_id}),{headers:{'Content-Type':'application/x-www-form-urlencoded'},withCredentials:true});localStorage.removeItem('user');navigate('/login');}catch(err){console.error('로그아웃 실패:',err);alert('로그아웃 중 오류가 발생했습니다.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-image-only\",children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-wrapper\",children:/*#__PURE__*/_jsx(Carousel,{})})})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axios","NavBar","Carousel","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MainPage","userInfo","setUserInfo","menuOpen","setMenuOpen","darkMode","setDarkMode","navigate","storedUser","localStorage","getItem","JSON","parse","document","documentElement","setAttribute","body","style","overflow","handleLogout","post","URLSearchParams","user_id","headers","withCredentials","removeItem","err","console","error","alert","children","className"],"sources":["C:/FoodyChat/foodychat_frontend/src/components/MainPage.js"],"sourcesContent":["// src/components/MainPage.jsx\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport NavBar from './NavBar';\r\nimport Carousel from './Carousel'; // ✅ 캐러셀 추가\r\n\r\nimport './css/main.css';\r\n\r\nexport default function MainPage() {\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUserInfo(JSON.parse(storedUser));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n      if (storedUser) {\r\n          setUserInfo(JSON.parse(storedUser));\r\n      }\r\n    }, []);\r\n\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : 'light');\r\n  }, [darkMode]);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = menuOpen ? 'hidden' : '';\r\n  }, [menuOpen]);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await axios.post('http://localhost:8080/users/logout',\r\n        new URLSearchParams({\r\n          user_id: userInfo.user_id,\r\n        }),\r\n        {\r\n          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n          withCredentials: true,\r\n        }\r\n      );\r\n      localStorage.removeItem('user');\r\n      navigate('/login');\r\n    } catch (err) {\r\n      console.error('로그아웃 실패:', err);\r\n      alert('로그아웃 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <div className=\"hero-image-only\">\r\n        <div className=\"carousel-wrapper\">\r\n          <Carousel />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAE;AAEnC,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExB,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAAoB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,GAAIF,UAAU,CAAE,CACdN,WAAW,CAACS,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAC,CACrC,CACF,CAAC,CAAE,EAAE,CAAC,CAENpB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC7C,GAAIF,UAAU,CAAE,CACZN,WAAW,CAACS,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAC,CACvC,CACF,CAAC,CAAE,EAAE,CAAC,CAERpB,SAAS,CAAC,IAAM,CACdyB,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,YAAY,CAAEV,QAAQ,CAAG,MAAM,CAAG,OAAO,CAAC,CAClF,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEdjB,SAAS,CAAC,IAAM,CACdyB,QAAQ,CAACG,IAAI,CAACC,KAAK,CAACC,QAAQ,CAAGf,QAAQ,CAAG,QAAQ,CAAG,EAAE,CACzD,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAgB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAA5B,KAAK,CAAC6B,IAAI,CAAC,oCAAoC,CACnD,GAAI,CAAAC,eAAe,CAAC,CAClBC,OAAO,CAAErB,QAAQ,CAACqB,OACpB,CAAC,CAAC,CACF,CACEC,OAAO,CAAE,CAAE,cAAc,CAAE,mCAAoC,CAAC,CAChEC,eAAe,CAAE,IACnB,CACF,CAAC,CACDf,YAAY,CAACgB,UAAU,CAAC,MAAM,CAAC,CAC/BlB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAOmB,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,UAAU,CAAEF,GAAG,CAAC,CAC9BG,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CACF,CAAC,CAED,mBACE9B,KAAA,CAAAF,SAAA,EAAAiC,QAAA,eACEnC,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,QAAKoC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9BnC,IAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/BnC,IAAA,CAACF,QAAQ,GAAE,CAAC,CACT,CAAC,CACH,CAAC,EACN,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}