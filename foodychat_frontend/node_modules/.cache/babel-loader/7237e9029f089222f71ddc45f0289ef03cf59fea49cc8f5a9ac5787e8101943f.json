{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\FoodyChat\\\\foodychat_frontend\\\\src\\\\components\\\\CafeRecommend.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport NavBar from './NavBar';\nimport { toast } from 'react-toastify';\nimport './css/meal-recommend.css';\nimport './css/main.css';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MealRecommendation() {\n  _s();\n  const {\n    foodName\n  } = useParams();\n  const [location, setLocation] = useState();\n  const [recommendedStore, setRecommendedStore] = useState([]);\n  const [loading, setLoading] = useState(false); // ✅ 로딩 상태 추가\n\n  const handleRecommend = async () => {\n    try {\n      setLoading(true); // ✅ 로딩 시작\n      // 'all'은 제거하고 넘김\n      const payload = new URLSearchParams({\n        foodName: foodName,\n        location: location\n      });\n      const response = await axios.post('http://localhost:8080/analyze/store', payload, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        withCredentials: true\n      });\n      if (response.status === 200) {\n        toast.success('추천 완료!');\n      }\n      setRecommendedStore(response.data);\n    } catch (error) {\n      console.error('추천 실패:', error);\n    } finally {\n      setLoading(false); // ✅ 로딩 종료\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommend-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recommend-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: [\"\\uD83D\\uDCC5 \", foodName, \" \\uB9DE\\uCDA4 \\uC2DD\\uB2F9 \\uCD94\\uCC9C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694!\",\n          value: location,\n          onChange: e => setLocation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRecommend,\n          className: \"btn btn-primary\",\n          disabled: loading,\n          children: [loading ? '🍽 추천중...' : '🍱 추천 받기', \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '10px',\n          fontWeight: '500',\n          color: '#555'\n        },\n        children: \"\\uCD94\\uCC9C \\uACB0\\uACFC\\uB97C \\uC0DD\\uC131 \\uC911\\uC785\\uB2C8\\uB2E4. \\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-scroll-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"result-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"col-narrow\",\n                children: \"\\uC0C1\\uD638\\uBA85\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"col-wide\",\n                children: \"\\uC804\\uD654\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"col-narrow\",\n                children: \"\\uC8FC\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"col-narrow\",\n                children: \"\\uC601\\uC5C5\\uC2DC\\uAC04\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"col-narrow\",\n                children: \"\\uB9AC\\uBDF0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: recommendedStore.map((meal, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: meal.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: meal.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: meal.menu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(MealRecommendation, \"thlk2fExBJJ0MW8gdpt0mx6Ql20=\", false, function () {\n  return [useParams];\n});\n_c = MealRecommendation;\nvar _c;\n$RefreshReg$(_c, \"MealRecommendation\");","map":{"version":3,"names":["React","useState","axios","NavBar","toast","useParams","jsxDEV","_jsxDEV","Fragment","_Fragment","MealRecommendation","_s","foodName","location","setLocation","recommendedStore","setRecommendedStore","loading","setLoading","handleRecommend","payload","URLSearchParams","response","post","headers","withCredentials","status","success","data","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","placeholder","value","onChange","e","target","onClick","disabled","style","marginTop","fontWeight","color","map","meal","index","date","type","menu","_c","$RefreshReg$"],"sources":["D:/workspace/FoodyChat/foodychat_frontend/src/components/CafeRecommend.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport NavBar from './NavBar';\r\nimport { toast } from 'react-toastify';\r\nimport './css/meal-recommend.css';\r\nimport './css/main.css';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nexport default function MealRecommendation() {\r\n    const { foodName } = useParams();\r\n    const [location, setLocation] = useState();\r\n    const [recommendedStore, setRecommendedStore] = useState([]);\r\n    const [loading, setLoading] = useState(false); // ✅ 로딩 상태 추가\r\n\r\n    const handleRecommend = async () => {\r\n        try {\r\n          setLoading(true); // ✅ 로딩 시작\r\n            // 'all'은 제거하고 넘김\r\n            const payload = new URLSearchParams({\r\n                foodName: foodName,\r\n                location: location,\r\n            });\r\n\r\n            const response = await axios.post('http://localhost:8080/analyze/store', payload, {\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                withCredentials: true\r\n            });\r\n\r\n            if (response.status === 200) {\r\n                toast.success('추천 완료!');\r\n            }\r\n            setRecommendedStore(response.data);\r\n        } catch (error) {\r\n            console.error('추천 실패:', error);\r\n        } finally {\r\n          setLoading(false); // ✅ 로딩 종료\r\n      }\r\n    };\r\n\r\n\r\n  return (\r\n    <>\r\n    <NavBar />\r\n    <div className=\"recommend-wrapper\">\r\n      <div className=\"recommend-inner\">\r\n        <h2 className=\"title\">📅 {foodName} 맞춤 식당 추천</h2>\r\n          <input placeholder=\"주소를 입력하세요!\" value={location} onChange={(e) => setLocation(e.target.value)} />\r\n          <button onClick={handleRecommend} className=\"btn btn-primary\" disabled={loading}>\r\n              {loading ? '🍽 추천중...' : '🍱 추천 받기'}  {/* ✅ 텍스트 변경 */}\r\n          </button>\r\n        </div>\r\n\r\n        {loading && (\r\n            <p style={{ marginTop: '10px', fontWeight: '500', color: '#555' }}>\r\n                추천 결과를 생성 중입니다. 잠시만 기다려주세요...\r\n            </p>\r\n        )}\r\n\r\n        <div className=\"table-scroll-container\">\r\n          <table className=\"result-table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"col-narrow\">상호명</th>\r\n                <th className=\"col-wide\">전화번호</th>\r\n                <th className=\"col-narrow\">주소</th>\r\n                <th className=\"col-narrow\">영업시간</th>\r\n                <th className=\"col-narrow\">리뷰</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {recommendedStore.map((meal, index) => (\r\n                <tr key={index}>\r\n                  <td>{meal.date}</td>\r\n                  <td>{meal.type}</td>\r\n                  <td>{meal.menu}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}